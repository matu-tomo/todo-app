        }

        function filterByCategory() {
            renderTasks();
        }

        function filterByPriority() {
            renderTasks();
        }

        function shouldDisplayTask(task) {
            const statusFilter = filterSelect.value;
            const categoryFilter = filterCategory.value;
            const priorityFilter = filterPriority.value;

            if (statusFilter === '完了' && !task.completed) return false;
            if (statusFilter === '未完了' && task.completed) return false;
            if (categoryFilter !== 'すべて' && task.category !== categoryFilter) return false;
            if (priorityFilter !== 'すべて' && task.priority !== parseInt(priorityFilter, 10)) return false;

            return true;
        }

        renderTasks();
    </script>
</body>
</html>

